# ============================================================================
# Mosquitto Configuration for Central Server
# ============================================================================

# TCP listener (agents over LAN)
listener 1883
allow_anonymous false
password_file /mosquitto/config/passwd
acl_file /mosquitto/config/acl

# WebSocket listener (browsers/phones)
listener 9001
protocol websockets
allow_anonymous false
password_file /mosquitto/config/passwd
acl_file /mosquitto/config/acl

# Persistence
persistence true
persistence_location /mosquitto/data/

# Logging
log_dest stdout
log_type error warning notice information

# ============================================================================
# Security
# ============================================================================
# Set to true to require clients to set a unique client ID
allow_zero_length_clientid false

# Maximum number of connections
max_connections -1

# Disable MQTT v3.1 (require v3.1.1+)
protocol_version 311

